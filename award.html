<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf8">
	<meta name="Description" content="" />
	<meta name="Keywords" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<title></title>
	<link rel="stylesheet" href="css/comm.css">
	<link rel="stylesheet" href="css/award.css">
</head>
<body>
<div class="wrap">
	<div class="page-scroll">
		<div class="page-award">
			<a href="javascript:history.back(-1)" class="back-btn">返回制作<i class="back-icon"></i></a>
			<a href="javascript:" class="rule-btn" id="btnRule">活动规则</a>

			<div class="award-list">
				<p>恭喜137XXXX7788 中奖700M流量</p>
			</div>

			<div class="award-item">
				<div class="item"></div>
				<div class="item"></div>
				<div class="item"></div>
			</div>

			<!-- 抽奖按钮 -->
			<a href="javascript:" class="btn-award" id="awardPlayBtn"></a>

			<div class="award-prompt">
				<p>每次抽大奖需要集齐<span>1套冰淇淋</span></p>
				<span class="num">已有1000000人集齐</span>
			</div>

			<p class="award-main-num">00</p>

			<a href="javascript:" class="award-btn01"  id="coinTaskBtn"></a>
			<a href="center.html" class="award-btn02"></a>

			<a href="javascript:" class="award-btn-record" id="awardRecordBtn">中奖记录</a>
		</div>
	</div>
</div>

<!-- 弹窗-活动规则 -->
<div class="pop-mask" id="popRule" style="display: none;">
	<div class="pop-content pop-type02">
		<a href="javascript:" class="pop-close pop-hide"></a>
		<h1 class="pop-rule-title">活动规则</h1>
		<div class="pop-rule-item">
			<div class="rule-item">
				<p>1、活动时间：2018年6月27日10:00-2018年7月15日24:00</p>
				<p>2、活动奖品</p>
				
				<table border="0" cellpadding="0" cellspacing="0">
					<tr>
						<th>奖品名称</th>
						<th>份数</th>
					</tr>
					<tr>
						<td>vivo NEX手机</td>
						<td>10</td>
					</tr>
					<tr>
						<td>2G流量</td>
						<td>290</td>
					</tr>
					<tr>
						<td>1G流量</td>
						<td>700</td>
					</tr>
					<tr>
						<td>300M流量</td>
						<td>4000</td>
					</tr>
					<tr>
						<td>100M流量</td>
						<td>25000</td>
					</tr>
				</table>

				<p>3、参与规则</p>
				<p>1、活动期间，用户通过微信图文、关键字、优惠集锦或者10086APP首页轮播图进入活动，射门者进球后可获得进球积分，每人每天在微信和APP各有3局游戏，每局游戏5次射门机会，双渠道共30次射门机会。</p>
				<p>2、活动期间，抽中暴击道具，进球后积分会有2倍、10倍或50倍暴击1次，仅本局内有效，本局结束后暴击道具自动失效。</p>
				<p>3、全国排行榜中，当用户积分相同时，按照获取相应分数时间先后顺序排名。</p>
				<p>4、活动期间，一经发现违规等恶意操作等作弊行为将取消获奖资格。</p>
				<p>5、活动期间，每位用户只有一次中奖机会；同一手机号、同一微信号算作一个用户。</p>
				<p>6、活动期间，用户需持续订阅并绑定“中国移动10086”微信公众号，或持续下载并登陆10086APP，否则流量奖品无法发放。</p>
				<p>7、手机奖品将在活动结束后15个工作日内由10086客服人员电话联系发奖事宜，请您保持电话畅通；若在发奖期间，客服人员拨打三次您仍未能接听电话，或在与客服通话时，您拒绝提供邮寄信息或表示放弃，则默认为您放弃该奖品。</p>
				<p>8、活动期间，流量奖品将将于8月23日前直接赠送至您绑定/注册的手机号上，届时会有短信，如若8月23日后未收到流量到账提醒短信，请不要着急，我们会在9月1日开始的10个工作日内为您补充入绑定/注册的手机号码中。</p>
				<p>9、赠送的流量为国内流量（河北、贵州为省内流量），2/3/4G通用，当月有效，流量不结转。</p>
				<p>10、号码欠费、未进行实名制认证、处于非正常状态的用户，奖品可能无法成功到帐。</p>
				<p>11、携号转网、集团用户暂时无法参与流量兑换，流量无法到账。</p>
			</div>
			<div class="scroll-plan" style="display: none;"><i></i></div>
		</div>

		<a href="javascript:" class="pop-btn01 pop-hide">好的</a>
	</div>
</div>


<!-- 弹窗-做任务赚取和微币（微信） -->
<div class="pop-mask" id="popCoinTask01" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">完成任务即可获得和微币</h1>
		<div class="pop-task-item task-item01">
			<a href="javascript:" class="task-btn"></a>
			<a href="javascript:" class="task-btn"></a>
			<a href="javascript:" class="task-btn"></a>
			<a href="javascript:" class="task-btn"></a>
		</div>
		<p class="pop-task-prompt">每天首次进入“一键检测、话费账单、套餐余额”分别增加以上和微币</p>
	</div>
</div>
<!-- 弹窗-做任务赚取和微币（APP） -->
<div class="pop-mask" id="popCoinTask02" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">完成任务即可获得和微币</h1>
		<div class="pop-task-item task-item02">
			<a href="javascript:" class="task-btn"></a>
			<a href="javascript:" class="task-btn"></a>
			<a href="javascript:" class="task-btn"></a>
		</div>
		<p class="pop-task-prompt">每天首次进入“一键检测、话费账单、套餐余额”分别增加以上和微币</p>
	</div>
</div>

<!-- 弹窗-中奖记录（有记录） -->
<div class="pop-mask" id="popAwardRecord" style="display: none;">
	<div class="pop-content pop-type04">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">中奖记录</h1>

		<div class="pop-record-item">
			<div class="record-item">
				<table border="0" cellpadding="0" cellspacing="0">
					<tr>
						<th>兑换礼品</th>
						<th>时间</th>
					</tr>
					<tr>
						<td>700M流量包</td>
						<td>2018/6/28  00：00：00</td>
					</tr>
					<tr>
						<td>700M流量包</td>
						<td>2018/6/28  00：00：00</td>
					</tr>
					<tr>
						<td>700M流量包</td>
						<td>2018/6/28  00：00：00</td>
					</tr>
					<tr>
						<td>700M流量包</td>
						<td>2018/6/28  00：00：00</td>
					</tr>
				</table>
			</div>
			<div class="scroll-plan" style="display: none;"><i></i></div>
		</div>

		<a href="javascript:" class="pop-btn01 pop-hide">好的</a>
	</div>
</div>
<!-- 弹窗-中奖记录（无记录） -->
<div class="pop-mask" id="popAwardRecord02" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">暂无记录</h1>
		<p class="pop-prompt">你还没有中奖哦，请继续努力</p>

		<a href="javascript:" class="pop-btn01 pop-hide">好的</a>
	</div>
</div>

<!-- 弹窗-抽奖说明 -->
<div class="pop-mask" id="popAwardState" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">抽奖说明</h1>
		<p class="pop-prompt">本次抽奖将扣除1套冰淇淋（共4个）<br>是否继续</p>

		<a href="javascript:" class="pop-btn01 pop-btn-award">好的</a>
	</div>
</div>

<!-- 弹窗-余额不足 -->
<div class="pop-mask" id="popNotNum" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">余额不足</h1>
		<p class="pop-prompt">抱歉，你的冰淇淋尚未集齐，<br>请稍后再尝试</p>

		<a href="game.html" class="pop-btn02">去制作冰淇淋</a>
	</div>
</div>
<!-- 弹窗-没中奖 -->
<div class="pop-mask" id="popNotAward" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">很遗憾，没中奖</h1>
		<p class="pop-prompt">差一点点就中奖了，继续努力哦</p>

		<a href="javascript:" class="pop-btn01 pop-hide">好的</a>
	</div>
</div>

<!-- 弹窗-中奖 -->
<div class="pop-mask" id="popAward" style="display: none;">
	<div class="pop-content pop-type01">
		<a href="javascript:" class="pop-close pop-hide"></a>

		<h1 class="pop-title">恭喜您，中奖了</h1>
		<p class="pop-prompt">中奖<span class="prize"></span></p>
		<p class="pop-award-prompt">奖励发放见活动规则，可通过抽奖页面的<br>“中奖记录”查询</p>

		<a href="javascript:" class="pop-btn01 pop-hide">好的</a>
	</div>
</div>


<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/easing.min.js"></script>
<script type="text/javascript" src="js/comm.js"></script>
<script type="text/javascript">

// 活动规则
$('#btnRule').unbind().on('click', function() {
	popShow({
		object: $('#popRule'),
		success: function() {
			scrollInit({
				object: $('#popRule .rule-item')
			})
		}
	});
});

// 赚取和微币
$('#coinTaskBtn').on('click', function() {
	var popTaskObj = $('#popCoinTask01');
	popShow({
		object: popTaskObj,
		success: function() {
			popTaskObj.find('.task-btn').unbind().on('click', function() {
				// 点击做任务
			})
		}
	});
});
// 中奖记录
$('#awardRecordBtn').on('click', function() {
	popShow({
		object: $('#popAwardRecord'),
		success: function() {
			scrollInit({
				object: $('#popAwardRecord .record-item')
			})
		}
	});
});

//抽奖play按钮
$('#awardPlayBtn').click(function () {
	popShow({
		object: $('#popAwardState'),
		success: function() {
			$('#popAwardState .pop-btn-award').unbind().on('click', function() {
				$('#popAwardState').hide();
				awardStart()
			})
		}
	});
});


function awardStart() {
	var awardItem = [
		{id: 0, title: '100M流量'},
		{id: 1, title: '300M流量'},
		{id: 2, title: '1G流量'},
		{id: 3, title: '2G流量'},
		{id: 4, title: '京东专享全品类券'},
		{id: 5, title: '网易考拉1000元组合礼包'},
		{id: 6, title: 'vivo NEX手机'},
		{id: 7, title: '拼多多随机现金红包'}
	]
	// 开始抽奖
	var awardItemObj = $('.award-item');
	var u = 218 / 100; //盒子的高度
	var random = '222'; //中奖随机数 
	var _this = $('#awardPlayBtn');
	if(!_this.hasClass('active')){
		_this.addClass('active');
		$(".award-item .item").slots(u, random, 8, function (data) {
			_this.removeClass('active');

			var awardType = true;
			var awardId;
			console.log(parseInt(data[0]) +','+ parseInt(data[1]) +','+ parseInt(data[2]))
			for(var i=data.length - 1; i>0; i--) {
				if(data[i] != data[i-1]) {
					awardType = false;
				} else {
					awardId = parseInt(data[i]);
				}
			}

			console.log(awardType)

			if(awardType) {
				// 中奖弹窗
				popShow({
					object: $('#popAward'),
					success: function() {
						// 中奖处理事件
						for(var i=0; i<awardItem.length; i++) {
							if(awardId == awardItem[i].id) {
								$('#popAward .prize').html(awardItem[i].title);
							}
						}
					}
				});	
			} else {
				// 不中奖
				popShow({
					object: $('#popNotAward'),
					success: function() {

					}
				});	
			}
			
		});
	}
}
</script>

</body>
</html>